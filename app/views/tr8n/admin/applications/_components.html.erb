<%= will_filter_scripts_tag %>

<%= tr8n_actions_tag([
    link_to_function("Add Component", "Tr8n.UI.Lightbox.show('/tr8n/admin/applications/lb_update_component?app_id=#{@app.id}', {width:650})")
  ])
%>

<%= form_tag("", :id => "tr8n_form") do %>
  <%= hidden_field_tag(:type, "component") %>
  <%= will_filter_table_tag(@results, :columns => [
    [:checkbox, 'ids'], 
    [:id, lambda{|comp| link_to(comp.id, {:action => :component, :comp_id => comp.id}) }], 
    :key,
    :name,
    :state,
    [:sources, lambda{ |comp| 
      link_to(comp.sources.size, {:action => :component, :comp_id => comp.id, :mode => :sources})
    }, 'padding:5px;text-align:right;white-space:nowrap;'],
    [:translators, lambda{ |comp| 
      link_to(comp.translators.size, {:action => :component, :comp_id => comp.id, :mode => :translators})
    }, 'padding:5px;text-align:right;white-space:nowrap;'],
    [:actions, lambda{|comp|
      tr8n_actions_tag([
        link_to_function("Update", "Tr8n.UI.Lightbox.show('/tr8n/admin/applications/lb_update_component?comp_id=#{comp.id}', {width:650})"),
        link_to_function("Delete", "deleteObjects('#{comp.id}')")
      ])
    }, 'padding:5px;text-align:right;white-space:nowrap;']
  ]) %>
<% end %>

<%= will_filter_actions_bar_tag(@results, [
  ['Remove From Application', 'deleteObjects()']
]) %>
